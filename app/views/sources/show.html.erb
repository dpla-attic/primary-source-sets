<h1>Source: <%= inline_markdown(source_name(@source)) %></h1>

<p>
  <%= link_to "Edit", edit_source_path(@source) %>
  |
  <%= link_to "Delete", 
               source_path(@source), method: :delete,
               data: { confirm: "Are you sure you want to delete this source?" } %>
</p>

<table>
  <tr>
    <td><strong>Set </strong></td>
    <td><%= link_to inline_markdown(@source.source_set.name), source_set_path(@source.source_set)%></td>
  </tr>
  <tr>
    <td><strong>DPLA item URI </strong></td>
    <td><%= link_to frontend_path(@source.aggregation), frontend_path(@source.aggregation) %></td>
  </tr>
  <tr>
    <td><strong>Caption </strong></td>
    <td><%= inline_markdown(@source.name) %></td>
  </tr>
  <tr>
    <td><strong>Citation </strong></td>
    <td><%= markdown(@source.citation) %></td>
  </tr>
  <tr>
    <td><strong>Credits </strong></td>
    <td><%= markdown(@source.credits) %></td>
  </tr>
  <tr>
    <td><strong>Description / transcription </strong></td>
    <td><%= markdown(@source.textual_content) %></td>
  </tr>
  <tr>
    <td><strong>Featured? </strong></td>
    <td><%= @source.featured %></td>
  </tr>
</table>

<h2>Media assets</h2>

<table>

  <% if @source.main_asset.present? %>
    <tr>
      <td><strong>Main media asset (<%= @source.main_asset.class.name %>)</strong></td>
      <td><%= @source.main_asset.file_base %></td>
      <td><%= link_to "View", polymorphic_path(@source.main_asset) %></td>
      <td><%= link_to "Edit", edit_polymorphic_path(@source.main_asset) %></td>
      <td><%= link_to "Delete", polymorphic_path(@source.main_asset),
                      method: :delete,
                      data: { confirm: "Are you sure you want to delete #{@source.main_asset.file_base}?" } %></td>
    </tr>
  <% end %>

  <% if @source.thumbnails.present? %>
    <tr>
      <td><strong>Thumbnail </strong></td>
      <td><%= @source.thumbnails.first.file_base %></td>
      <td><%= link_to "View", image_path(@source.thumbnails.first) %></td>
      <td><%= link_to "Edit", edit_image_path(@source.thumbnails.first) %></td>
      <td><%= link_to "Delete", image_path(@source.thumbnails.first),
                      method: :delete,
                      data: { confirm: "Are you sure you want to delete #{@source.thumbnails.first.file_base}?" } %></td>
    </tr>
  <% end %>

  <% if @source.small_images.present? %>
    <tr>
      <td><strong>Small image </strong></td>
      <td><%= @source.small_images.first.file_base %></td>
      <td><%= link_to "View", image_path(@source.small_images.first) %></td>
      <td><%= link_to "Edit", edit_image_path(@source.small_images.first) %></td>
      <td><%= link_to "Delete", image_path(@source.small_images.first),
                      method: :delete,
                      data: { confirm: "Are you sure you want to delete #{@source.small_images.first.file_base}?" } %></td>
    </tr>
  <% end %>
</table>
